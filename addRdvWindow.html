<!DOCTYPE html>
<html>
    <head>
    	<meta charset='utf-8'>
    	<title> Ajouter un randez-vous </title>
    	<script type="text/javascript" src="./contents/jquery/jquery-3.4.1.min.js"></script>
    	<script src="./contents/bootstrap/js/bootstrap.min.js"></script>
        <!-- Bootstrap CSS -->
         <link rel="stylesheet" href="./contents/bootstrap//css/bootstrap.min.css" />
         <link rel="stylesheet" href="./style.css" />
        <style>
        </style>
    </head>

    <body>
<div class="login-box">
      <img src="./img/schedule.png" class="avatar">
      <h1>     Ajouter un randez-vous   </h1>
<form>
  <div class="form-row">
    <div class="col-md-4 mb-3">
      <label>Identifiant du patient</label>
      <input type="text" class="form-control" id="id_rdv" placeholder="12345" required>
    </div>
  </div>
  <div class="form-row">
    <div class="col-md-4 mb-3">
      <label>Date</label>
      <input type="date" class="form-control" id="date_rdv" required>
    </div>
    <div class="col-md-4 mb-3">
      <label>Heure</label>
      <input type="time" class="form-control" id="time_rdv" required>
    </div>
  </div>
 <div class="form-row">
    <div class="col-md-4 mb-3">
      <label>Objet</label>
      <input type="textarea" class="form-control" id="objet_rdv" placeholder="Objet...">
    </div>
  </div>
</form>
  <input class="button" type="submit" id="btn_Rdv">Ajouter</input>
</div>

      <script>
       /* const electron = require('electron')
        const {ipcRenderer} = electron;

        const formRdv =document.querySelector('form');
        form.addEventListener('submit',submitForm);

        function submitForm(e){
          e.preventDefault();
          const Rdv = document.querySelector("#code_pat_rdv").value;
          ipcRenderer.send('Rdv:add', Rdv);
<<<<<<< HEAD
        }
      </script> -->
      <script src="./addRdvRenderer.js">
            
=======
        }*/
            function checkEmptyInput()
            {
                var isEmpty = false,
                codePatRdv = document.getElementById('code_pat_rdv').value,
                dateRdv = document.getElementById('date_rdv').value,
                timeRdv = document.getElementById('time_rdv').value,
                objetRdv = document.getElementById('objet_rdv').value;
            
                if(codePatRdv === ""){
                    alert("Le code du patient ne peut pas etre vide");
                    isEmpty = true;
                }
                else if(dateRdv === ""){
                    alert("La date du randez-vous ne peut pas etre vide");
                    isEmpty = true;
                }
                else if(timeRdv === ""){
                    alert("L'heure du randez-vous ne peut pas etre vide ");
                    isEmpty = true;
                }
                return isEmpty;
            }
        let Rdvs =[]
        const addPatient = (ev) =>{
          ev.preventDefault(); // tostop the form submitting
          if(!checkEmptyInput()){
          let Rdv = {
            idRdv: Data.now(),//current timestamp
            codePatRdv: document.getElementById('code_pat_rdv').value,
            dateRdv: document.getElementById('date_rdv').value,
            timeRdv: document.getElementById('time_rdv').value,
            objetRdv: document.getElementById('objet_rdv').value,
          }

          document.forms[0].reset();//to clear the doc for the next entries
          //document.querySelector['form'].reset(); 
       }
     }
        document.getElementById("btn_Rdv").addEventListener('click', addPatient);
        document.getElementById("btn_Rdv").addEventListener('click',alert('Randez-vous ajoutÃ©. Id = ', Rdv.idRdv));
>>>>>>> 17d832e5decc19a929fa5da6b15daa4305c09ff9
      </script>

    </body>


</html>